Saya ingin membangun aplikasi Android untuk deteksi kerusakan jalan berbasis crowdsourcing dengan spesifikasi berikut:
A. Deskripsi Umum Aplikasi
Aplikasi Android yang merekam data sensor accelerometer dan GPS smartphone saat kendaraan melintasi jalan. Data digunakan untuk mendeteksi kerusakan jalan (lubang, gelombang permukaan) secara otomatis dan dikirim ke server untuk dianalisis.
B. Stack Teknologi

Bahasa: Kotlin
IDE: Android Studio
Min SDK: Android 7.0 (API 24)
Target SDK: Android 14 (API 34)
Arsitektur: MVVM (Model-View-ViewModel)
Libraries:

Jetpack Compose untuk UI
Room Database untuk penyimpanan lokal
Retrofit untuk komunikasi API
Coroutines & Flow untuk async operations
Google Maps SDK untuk visualisasi peta
WorkManager untuk background sync
Hilt untuk dependency injection



C. Fitur Utama yang Harus Diimplementasikan
1. Splash Screen & Onboarding

Tampilan splash screen dengan logo aplikasi
Halaman onboarding untuk pengguna baru
Penjelasan singkat cara penggunaan aplikasi

2. Manajemen Izin

Request izin akses lokasi (ACCESS_FINE_LOCATION, ACCESS_COARSE_LOCATION)
Request izin akses sensor (HIGH_SAMPLING_RATE_SENSORS)
Request izin internet
Handle skenario penolakan izin dengan penjelasan yang jelas

3. Pendaftaran/Identitas Pengguna

Form input identitas pengguna (opsional: nama, email, tipe kendaraan)
Simpan data pengguna di Room Database
Generate ID unik untuk setiap pengguna (tanpa menyimpan data pribadi sensitif)
Data disimpan lokal dan dapat diedit

4. Halaman Utama/Beranda

Tombol besar "Mulai Perekaman" di tengah
Indikator status GPS (aktif/tidak aktif, akurasi)
Indikator status sensor accelerometer
Ringkasan statistik: jumlah perjalanan, total jarak, perjalanan belum diunggah
Menu navigasi ke halaman lain

5. Modul Perekaman Data Sensor
Accelerometer:

Sampling rate: 50-100 Hz (dapat dikonfigurasi)
Rekam 3 sumbu (x, y, z)
Hitung magnitude: √(x² + y² + z²)
Apply low-pass filter untuk mengurangi noise
Normalisasi orientasi device

GPS:

Update interval: 1 detik
Rekam: latitude, longitude, altitude, speed, accuracy, bearing
Timestamp untuk sinkronisasi dengan accelerometer
Handle GPS signal loss dengan graceful degradation

Format Data:
kotlindata class SensorReading(
    val timestamp: Long, // milliseconds since epoch
    val accelX: Float,
    val accelY: Float,
    val accelZ: Float,
    val magnitude: Float,
    val latitude: Double?,
    val longitude: Double?,
    val altitude: Double?,
    val speed: Float?,
    val accuracy: Float?,
    val bearing: Float?
)
6. Layar Perekaman Aktif

Indikator visual bahwa perekaman sedang berjalan (animasi pulse)
Timer durasi perekaman
Estimasi jarak yang telah ditempuh
Peta real-time menampilkan lintasan (trail)
Graf real-time magnitude accelerometer
Tombol "Stop Perekaman" yang prominent
Foreground service notification untuk mencegah system kill

7. Penyimpanan Data Lokal

Simpan setiap perekaman sebagai Trip entity di Room Database
Simpan sensor readings dalam format CSV atau binary
Struktur database:

kotlin@Entity(tableName = "trips")
data class Trip(
    @PrimaryKey val tripId: String, // UUID
    val userId: String,
    val startTime: Long,
    val endTime: Long,
    val duration: Long, // seconds
    val distance: Float, // meters
    val dataFilePath: String, // path to CSV file
    val uploadStatus: UploadStatus, // PENDING, UPLOADING, UPLOADED, FAILED
    val createdAt: Long
)

enum class UploadStatus {
    PENDING, UPLOADING, UPLOADED, FAILED
}
8. Halaman Daftar Perjalanan

RecyclerView/LazyColumn menampilkan semua perjalanan
Setiap item menampilkan:

Tanggal & waktu
Durasi
Jarak
Status upload (icon/badge)


Filter berdasarkan status upload
Sorting (terbaru, terlama, terlama belum upload)
Swipe-to-delete untuk hapus perjalanan

9. Halaman Detail Perjalanan

Informasi lengkap perjalanan
Peta menampilkan lintasan lengkap dengan:

Marker start point (hijau)
Marker end point (merah)
Polyline lintasan


Statistik: durasi, jarak, kecepatan rata-rata
Graf magnitude accelerometer sepanjang perjalanan
Tombol "Upload ke Server"
Tombol "Hapus Perjalanan"
Tombol "Bagikan" (export sebagai file)

10. Upload Data ke Server

Upload via REST API menggunakan Retrofit
Support multipart upload untuk file besar
Progress indicator selama upload
Retry mechanism untuk upload gagal
Queue system untuk multiple uploads
Background upload menggunakan WorkManager
Notifikasi sukses/gagal upload

11. Halaman Pengaturan
- Konfigurasi accelerometer sampling rate (50/75/100 Hz)
- Konfigurasi GPS update interval (1/2/5 detik)
- Toggle auto-upload (upload otomatis saat terkoneksi WiFi)
- Pilihan penyimpanan data (internal/external)
- Pengaturan notifikasi
- Manajemen data: hapus semua trip yang sudah diupload
- Info aplikasi: versi, tentang, lisensi
- Edit profil pengguna
- Logout/Reset aplikasi

12. Halaman Visualisasi Peta
- Peta full screen
- Toggle layer: lintasan perjalanan, heatmap kerusakan (jika ada data dari server)
- Filter berdasarkan tanggal
- Zoom to current location
- Legend untuk membaca warna/simbol

13. Notifikasi
- Notifikasi foreground saat perekaman aktif
- Notifikasi sukses/gagal upload
- Notifikasi reminder untuk upload data pending (jika >5 trip belum diupload)

14. Penanganan Error & Edge Cases
- Handle GPS tidak tersedia/tidak akurat
- Handle sensor tidak tersedia
- Handle koneksi internet terputus saat upload
- Handle storage penuh
- Handle battery optimization yang membunuh foreground service
- Handle orientasi device berubah saat perekaman
- Handle phone call saat perekaman (pause/resume)
- Validasi data sebelum upload (minimal durasi, minimal jarak)

D. Non-Functional Requirements

1. Performance
- Aplikasi responsif, UI tidak freeze saat perekaman
- Efficient battery usage
- Minimal memory footprint
- Background tasks tidak mengganggu performa device

2. Privacy & Security
- Data dianonimkan, tidak menyimpan data pribadi sensitif
- User ID berupa UUID, bukan nama asli
- Data terenkripsi saat upload (HTTPS)
- Opsi untuk tidak menyertakan data lokasi spesifik (blur location)

3. Usability
- UI intuitif, mudah dipahami pengguna awam
- Material Design 3
- Dark mode support
- Aksesibilitas (content description, sufficient contrast)
- Bahasa Indonesia sebagai default

4. Compatibility
- Support berbagai ukuran layar (phone, tablet)
- Support berbagai device manufacturer
- Handle variasi sensor accuracy antar device

E. Perencanaan Implementasi Aplikasi Android

1. Tujuan Utama
- Menghasilkan aplikasi Android yang mampu merekam data sensor accelerometer dan GPS,
  menyimpan sebagai trip, lalu mengunggahnya ke server sebagai input pipeline deteksi
  kerusakan jalan sesuai kerangka proposal skripsi.
- Fokus perencanaan berada pada aplikasi Android, dengan asumsi backend dan dashboard
  dikembangkan terpisah namun menggunakan kontrak data (format trip + file CSV) yang sama.

2. Tahapan Fase Pengembangan

Fase 1 - Fondasi & Identitas Pengguna
- Setup project Android (Kotlin, Hilt, Retrofit, Room, WorkManager, Maps SDK).
- Implementasi fitur:
  - 1. Splash Screen & Onboarding
  - 2. Manajemen Izin
  - 3. Pendaftaran/Identitas Pengguna
- Hasil akhir fase: aplikasi dapat dijalankan, user dapat melalui onboarding, memberikan izin,
  dan menyimpan identitas dasar secara lokal.

Fase 2 - Perekaman Sensor & Penyimpanan Lokal
- Implementasi inti perekaman:
  - 4. Halaman Utama/Beranda
  - 5. Modul Perekaman Data Sensor
  - 6. Layar Perekaman Aktif
  - 7. Penyimpanan Data Lokal
- Notifikasi foreground service (bagian dari 13. Notifikasi).
- Hasil akhir fase: user dapat memulai dan menghentikan perekaman, data accelerometer dan GPS
  tersimpan sebagai trip dan file CSV/binary di penyimpanan lokal.

Fase 3 - Manajemen Trip & Upload ke Server
- Implementasi:
  - 8. Halaman Daftar Perjalanan
  - 9. Halaman Detail Perjalanan
  - 10. Upload Data ke Server
- Notifikasi sukses/gagal upload dan reminder upload pending (13. Notifikasi).
- Hasil akhir fase: user dapat melihat daftar trip, membuka detail, mengunggah trip ke server
  dengan mekanisme retry dan queue, serta mengetahui status upload setiap trip.

Fase 4 - Visualisasi Peta & Penyempurnaan UX
- Implementasi:
  - 11. Halaman Pengaturan (opsi lanjutan, auto-upload, manajemen data).
  - 12. Halaman Visualisasi Peta (lintasan perjalanan, heatmap kerusakan jika data server tersedia).
- Penyempurnaan aspek usability dan non-fungsional:
  - Penerapan Material Design 3 dan dark mode (D.3 Usability).
  - Optimasi performa dan baterai (D.1 Performance).
  - Opsi privasi seperti blur lokasi (D.2 Privacy & Security).
- Hasil akhir fase: aplikasi siap dipakai pengguna akhir dengan pengalaman penggunaan yang baik
  dan visualisasi peta yang informatif untuk kebutuhan analisis.

3. Prioritas Fitur (MVP vs Pendukung)

Prioritas 1 - Minimum Viable Product (MVP)
- Fitur yang wajib untuk mendukung eksperimen deteksi kerusakan jalan:
  - 2. Manajemen Izin
  - 4. Halaman Utama/Beranda
  - 5. Modul Perekaman Data Sensor
  - 6. Layar Perekaman Aktif
  - 7. Penyimpanan Data Lokal
  - 10. Upload Data ke Server
  - 13. Notifikasi foreground & status upload
  - D.1 Performance (minimal: UI tidak freeze saat perekaman)
  - D.2 Privacy & Security (minimal: anonymized ID dan HTTPS)

Prioritas 2 - Fitur Pendukung Penelitian
- Meningkatkan kemudahan penggunaan dan analisis:
  - 1. Splash Screen & Onboarding
  - 3. Pendaftaran/Identitas Pengguna
  - 8. Halaman Daftar Perjalanan
  - 9. Halaman Detail Perjalanan (statistik dasar, graf magnitude)
  - 11. Halaman Pengaturan (pengaturan sampling rate, interval GPS, auto-upload)
  - D.3 Usability (struktur UI intuitif, bahasa Indonesia default)

Prioritas 3 - Fitur Lanjutan / Nice-to-Have
- Dapat dikembangkan jika waktu dan sumber daya mencukupi:
  - 12. Halaman Visualisasi Peta dengan layer heatmap kerusakan dari server
  - Fitur "Bagikan" trip sebagai file untuk keperluan lain
  - Pengaturan notifikasi yang lebih rinci (kategori, frekuensi reminder)
  - Opsi penyimpanan eksternal dan kompresi file data sebelum upload

4. Rencana Pengujian Tingkat Aplikasi Android
- Fase 2: pengujian dasar perekaman sensor dan penyimpanan lokal (black-box, manual).
- Fase 3: pengujian integrasi upload dengan server (koneksi, retry, antrian upload).
- Fase 4: pengujian usability (UAT) dengan beberapa pengguna untuk menilai kemudahan
  penggunaan, kejelasan tampilan, dan performa di device berbeda.
