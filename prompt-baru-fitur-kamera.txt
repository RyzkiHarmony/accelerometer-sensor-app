FULL PROMPT PENGEMBANGAN APLIKASI ANDROID
Aplikasi Akuisisi Data Crowdsourcing Kondisi Jalan
Peran Anda

Anda adalah Android developer profesional yang mengembangkan aplikasi Android berbasis Kotlin untuk penelitian akademik.

Aplikasi ini BUKAN aplikasi deteksi lubang, BUKAN aplikasi navigasi, dan BUKAN aplikasi computer vision.
Aplikasi ini adalah instrumen akuisisi data sensor yang terkontrol dan reprodusibel.

Tujuan Utama Aplikasi

Merekam data accelerometer triaksial secara kontinu selama perjalanan kendaraan.

Merekam data GPS secara periodik.

Mengelompokkan data dalam sesi perjalanan (trip-based recording).

Menyimpan data mentah secara lokal.

Mengunggah data ke backend untuk dianalisis.

(Opsional) Mengambil citra konteks jalan secara selektif berbasis trigger accelerometer.

Prinsip Desain WAJIB

Accelerometer = sumber data utama

Kamera = pendukung opsional

Tidak ada analisis ML di perangkat

Tidak ada deteksi lubang real-time

Aplikasi harus tetap valid tanpa kamera

Platform & Teknologi

Minimum SDK: Android API 26

Bahasa: Kotlin

Arsitektur: MVVM

UI:  Jetpack Compose

Background task: Foreground Service

Penyimpanan: Room (SQLite)

Networking: REST API (JSON)

Struktur Fitur Aplikasi
1. Autentikasi Pengguna

Login sederhana (username/password atau token)

Token disimpan lokal (DataStore / SharedPreferences)

Identitas pengguna:

tidak ikut dianalisis

tidak dikirim bersama data sensor mentah

Tujuan:

kontrol akses

manajemen sesi unggah

2. Manajemen Sesi Perjalanan (Trip-Based Recording)
Setiap perjalanan memiliki:

trip_id (UUID)

start_time

end_time

status (idle / recording / finished)

UI:

Tombol Mulai Rekam

Tombol Hentikan Rekam

Aturan keras:

Tidak boleh ada dua trip aktif bersamaan

Semua data sensor harus terikat ke satu trip

3. Akuisisi Accelerometer (INTI APLIKASI)
Implementasi:

Gunakan SensorManager

Sensor: TYPE_ACCELEROMETER

Sampling stabil (misalnya 50–100 Hz)

Data yang direkam:

x, y, z

timestamp (system time)

Ketentuan:

Rekam data mentah

Jangan lakukan filtering kompleks

Jangan lakukan klasifikasi

Jangan memaksakan orientasi

Normalisasi orientasi dilakukan di backend menggunakan magnitudo accelerometer.

4. Akuisisi Lokasi GPS
Implementasi:

Fused Location Provider

Interval ±1 Hz

Data:

latitude

longitude

timestamp

accuracy (opsional)

GPS digunakan untuk:

pemetaan ke segmen jalan

agregasi spasial

5. Sinkronisasi Sensor

Semua data memiliki timestamp

Sinkronisasi presisi tidak wajib

Backend bertanggung jawab atas alignment final

6. Penyimpanan Lokal

Gunakan Room untuk menyimpan:

tabel Trip

tabel AccelerometerRecord

tabel LocationRecord

tabel CameraEvent (opsional)

Aturan:

Data tidak hilang jika aplikasi ditutup

Data tidak tergantung koneksi internet

7. Upload Data ke Server
Mekanisme:

Upload per trip_id

JSON payload berisi:

metadata trip

batch accelerometer

batch GPS

referensi citra (jika ada)

Ketentuan:

Retry jika gagal

Data lokal dihapus hanya jika upload sukses

Jika upload citra gagal → sensor tetap diunggah

8. Integrasi Kamera (OPSIONAL – MINIMAL RISK)
Tujuan Kamera:

dokumentasi konteks visual

anotasi ground truth

audit kualitas data

Kamera BUKAN:

alat deteksi

alat klasifikasi

alat utama penelitian

8.1 Trigger Kamera

Trigger berasal dari accelerometer dengan aturan ringan:

lonjakan magnitudo

threshold sederhana

tanpa ML

Trigger hanya bertujuan:

“Ada anomali, ambil konteks visual.”

8.2 Strategi Anti-Blur (WAJIB)

Gunakan Post-Event Delay Capture:

Trigger accelerometer terdeteksi

Tunggu 200–400 ms

Ambil 1 foto

Simpan foto + metadata

Larangan:

Jangan memotret saat puncak guncangan

Jangan video kontinu

8.3 Spesifikasi Kamera

Resolusi sedang (mis. 1280×720)

Flash OFF

HDR OFF

Autofocus default

Tidak perlu kontrol manual shutter

8.4 Metadata Foto

Setiap foto harus memiliki:

event_id

trip_id

timestamp

GPS terdekat

referensi data sensor

8.5 Robustness

Jika kamera gagal → abaikan tanpa crash

Aplikasi tetap sah tanpa citra

9. Perizinan

Aplikasi harus menangani:

izin sensor

izin lokasi

izin kamera (jika fitur aktif)

izin foreground service

Jika izin ditolak:

perekaman tidak boleh dimulai

10. UI & UX (MINIMAL)

Halaman:

Login

Dashboard:

status login

status perekaman

tombol Mulai / Hentikan

Upload Status

Info Penggunaan

Teks statis wajib:

“Aplikasi ini digunakan untuk pengumpulan data sensor. Perangkat diasumsikan dipasang pada dudukan kendaraan.”

11. Non-Functional Requirements

Hemat baterai

Stabil untuk perjalanan panjang

Logging jelas

Mudah diuji

Tidak crash jika kamera bermasalah

12. Larangan Mutlak

❌ Deteksi lubang di perangkat

❌ CNN / ML di Android

❌ Video recording kontinu

❌ Manual photo capture

❌ Visualisasi hasil analisis di aplikasi

Output Akhir

Aplikasi Android yang:

berfungsi sebagai instrumen akuisisi data,

konsisten dengan metodologi penelitian,

aman dari kritik sidang,

dan tetap lulus meskipun fitur kamera dimatikan.